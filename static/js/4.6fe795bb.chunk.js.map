{"version":3,"sources":["components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/common/FormsControls/MessageFormControls.js","forms/AddMessageForm.js","components/Dialogs/Dialogs.jsx","components/hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["DialogItem","props","path","id","className","src","alt","NavLink","to","name","Message","classNames","message","isMe","InputArea","input","meta","hasError","touched","error","maxLength50","maxLengthCreator","AddMessageForm","onSubmit","handleSubmit","Field","component","placeholder","validate","required","AddMessageFormRedux","reduxForm","form","Dialogs","state","dialogsPage","dialogsElements","dialogs","map","dialog","key","messagesElements","messages","values","sendMessage","newMessageText","mapStateToPropsForRedirect","isAuth","auth","compose","Component","RedirectComponent","React","render","this","Redirect","connect","dispatch","addMessageActionCreator"],"mappings":"uMAceA,EAXKC,IAChB,IAAIC,EAAO,YAAcD,EAAME,GAE/B,OACI,yBAAKC,UAAU,iBACX,yBAAKA,UAAU,qBAAqBC,IAAI,iEAAiEC,IAAI,cAC7G,kBAACC,EAAA,EAAD,CAAUC,GAAIN,GAAd,IAAsBD,EAAMQ,Q,iBCKzBC,EAXET,GAIT,yBAAKG,UAAWO,IAAW,yBAA0B,CAAC,2BAA8BV,EAAMW,QAAQC,QAC9F,yBAAKT,UAAU,qBAAqBC,IAAI,iEAAiEC,IAAI,cAC7G,yBAAKF,UAAWO,IAAW,qBAAsB,CAAC,yBAA0BV,EAAMW,QAAQC,QAASZ,EAAMW,QAAQA,U,yBCNhHE,EAAa,IAA6B,IAA5BC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAASf,EAAW,gCAE5CgB,EAAWD,EAAKE,SAAWF,EAAKG,MAEtC,OACI,6BACI,6BACI,2CAAWJ,EAAWd,EAAtB,CAA6BG,UAAWO,IAAW,gCAAiC,CAAC,kBAAsBM,QAE9GA,GAAY,8BAAOD,EAAKG,S,QCP/BC,EAAcC,YAAiB,IAoBtBC,EAlBSrB,GAGhB,0BAAMsB,SAAUtB,EAAMuB,aAAcpB,UAAU,0BAE1C,6BACI,kBAACqB,EAAA,EAAD,CAAOC,UAAWZ,EACXa,YAAY,qBACZlB,KAAK,iBACLL,UAAU,gCACVwB,SAAU,CAACC,IAAUT,MAGhC,6BAAK,4BAAQhB,UAAU,kCAAlB,UCgBX0B,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,CAA0CT,GAEvDW,EA/BEhC,IAEb,IAAMiC,EAAQjC,EAAMkC,YAEdC,EAAkBF,EAAMG,QAAQC,IAAKC,GAAU,kBAAC,EAAD,CAAa9B,KAAM8B,EAAO9B,KAAM+B,IAAKD,EAAOpC,GAAIA,GAAIoC,EAAOpC,MAC1GsC,EAAmBP,EAAMQ,SAASJ,IAAK1B,GAAW,kBAAC,EAAD,CAAS4B,IAAK5B,EAAQT,GAAIS,QAASA,KAM3F,OACI,yBAAKR,UAAU,WACX,yBAAKA,UAAU,oBACX,6BACKgC,GAEL,yBAAKhC,UAAU,iBAAf,KACA,yBAAKA,UAAU,uBACVqC,GAEL,kBAACX,EAAD,CAAqBP,SAdVoB,IACnB1C,EAAM2C,YAAYD,EAAOE,sB,0BCX7BC,EAA8BZ,IAAD,CAC7Ba,OAAQb,EAAMc,KAAKD,S,OCiBRE,sBDbkBC,IAC7B,MAAMC,UAA0BC,IAAMF,UAClCG,SACI,OAAKC,KAAKrD,MAAM8C,OACT,kBAACG,EAAcI,KAAKrD,OADI,kBAACsD,EAAA,EAAD,CAAU/C,GAAI,YAOrD,OAFqCgD,YAAQV,EAARU,CAAoCL,ICOzEK,YAhBmBtB,IACb,CACFC,YAAaD,EAAMC,cAIDsB,IAChB,CACFb,YAAcC,IACVY,EAASC,YAAwBb,QAK9BI,CAGbhB","file":"static/js/4.6fe795bb.chunk.js","sourcesContent":["import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return (\r\n        <div className=\"dialogs__item\">\r\n            <img className=\"dialogs__item__img\" src=\"https://www.flaticon.com/svg/static/icons/svg/3135/3135715.svg\" alt=\"UserPhoto\"/>\r\n            <NavLink  to={path}> {props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nconst Message = (props) => {\r\n\r\n    return (\r\n\r\n        <div className={classNames(\"dialogs__mess__wrapper\", {'dialogs__mess__wrapper__me': props.message.isMe})}>\r\n            <img className=\"dialogs__mess__img\" src=\"https://www.flaticon.com/svg/static/icons/svg/3135/3135715.svg\" alt=\"UserPhoto\"/>\r\n            <div className={classNames(\"dialogs__mess-item\", {\"dialogs__mess-item__me\": props.message.isMe})}>{props.message.message}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from \"react\";\r\nimport classNames from 'classnames';\r\n\r\nexport const InputArea = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <input {...input} {...props} className={classNames(\"dialogs__mess__sending__input\", {\"form__input_error\" : hasError})}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport {Field} from \"redux-form\";\r\nimport {InputArea} from \"../components/common/FormsControls/MessageFormControls\";\r\nimport {maxLengthCreator, required} from \"../utils/validators/validators\";\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddMessageForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className=\"dialogs__mess__sending\">\r\n            {/*<hr className=\"mess_hr\"/>*/}\r\n            <div>\r\n                <Field component={InputArea}\r\n                       placeholder='Enter your message'\r\n                       name=\"newMessageText\"\r\n                       className=\"dialogs__mess__sending__input\"\r\n                       validate={[required, maxLength50]}\r\n                />\r\n            </div>\r\n            <div><button className=\"dialogs__mess__sending__button\">Send</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default AddMessageForm;","import React from 'react';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport AddMessageForm from \"../../forms/AddMessageForm\";\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    const state = props.dialogsPage;\r\n\r\n    const dialogsElements = state.dialogs.map( dialog => <DialogItem  name={dialog.name} key={dialog.id} id={dialog.id}/> )\r\n    const messagesElements = state.messages.map( message => <Message key={message.id} message={message} /> )\r\n\r\n    const addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageText)\r\n    }\r\n\r\n    return (\r\n        <div className=\"dialogs\">\r\n            <div className=\"dialogs__wrapper\">\r\n                <div >\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className=\"vertical-line\"> </div>\r\n                <div className=\"dialogs__mess-items\">\r\n                    {messagesElements}\r\n                </div>\r\n                <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\"})(AddMessageForm);\r\n\r\nexport default Dialogs;\r\n","import React from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"} />\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n\r\n}","import {addMessageActionCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from 'react-redux';\r\nimport './Dialogs.scss';\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return{\r\n        sendMessage: (newMessageText) => {\r\n            dispatch(addMessageActionCreator(newMessageText));\r\n            }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(Dialogs);"],"sourceRoot":""}