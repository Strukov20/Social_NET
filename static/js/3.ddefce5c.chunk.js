(this["webpackJsonpreact-way-of-samurai"]=this["webpackJsonpreact-way-of-samurai"]||[]).push([[3],{298:function(e,t,a){},300:function(e,t,a){e.exports=a.p+"static/media/avatar.80d6e3b9.svg"},301:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a.n(s),r=a(84),n=a(31),o=a(300),i=a.n(o),c=(a(298),e=>{var t=Object(s.useState)(!1),a=Object(r.a)(t,2),n=a[0],o=a[1],i=Object(s.useState)(e.status),c=Object(r.a)(i,2),m=c[0],u=c[1];Object(s.useEffect)(()=>{u(e.status)},[e.status]);return l.a.createElement("div",null,!n&&l.a.createElement("div",null,l.a.createElement("span",{onDoubleClick:()=>{o(!0)}},e.status||"No STATUS")),n&&l.a.createElement("div",null,l.a.createElement("input",{onChange:e=>{u(e.currentTarget.value)},onBlur:()=>{o(!1),e.updateStatus(m)},type:"text",autoFocus:!0,value:m})))}),m=({profile:e,isOwner:t,goToEditMode:a,status:s,updateStatus:r})=>l.a.createElement("div",{className:"user__data"},t&&l.a.createElement("div",null,l.a.createElement("button",{onClick:a},"EDIT")),l.a.createElement("div",null,l.a.createElement("b",{className:"user__name"},e.fullName.toUpperCase())),l.a.createElement("div",{className:"user__title"},l.a.createElement("b",null,"Looking For A Job:"),"\xa0",e.lookingForAJob?"YES":"NO"),e.lookingForAJob&&l.a.createElement("div",{className:"user__title"},l.a.createElement("b",null,"My skills:"),"\xa0",e.lookingForAJobDescription||"No information available"),l.a.createElement("div",{className:"user__title"},l.a.createElement("b",null,"About Me:"),"\xa0",e.aboutMe||"No information available"),l.a.createElement("div",{className:"user__title"},l.a.createElement("b",null,"Contacts"),"\xa0",Object.keys(e.contacts).map(t=>l.a.createElement(u,{key:t,contactTitle:t,contactValue:e.contacts[t]||"No information available"}))),l.a.createElement("div",{className:"user__title"},l.a.createElement("div",{className:"user__status"},l.a.createElement("b",null,"Status: \xa0"),l.a.createElement(c,{status:s,updateStatus:r})))),u=({contactTitle:e,contactValue:t})=>l.a.createElement("div",{className:"user__contacts"},l.a.createElement("b",null,e,": "),t),p=a(42),d=a(57),E=a(117),b=(a(133),Object(E.a)({form:"editProfile"})(({handleSubmit:e,profile:t,error:a})=>l.a.createElement("form",{onSubmit:e,className:"user__data"},l.a.createElement("div",null,l.a.createElement("button",null,"SAVE")),a&&l.a.createElement("div",{className:"login_form_error"},a),l.a.createElement("div",{className:"user__title_edit"},l.a.createElement("b",null,"Full Name:"),"\xa0",Object(p.a)(" Set full name","fullName",[],d.a)),l.a.createElement("div",{className:"user__title_edit"},l.a.createElement("b",null,"Looking For A Job:"),"\xa0",Object(p.a)(null,"lookingForAJob",[],"Input",{type:"checkbox"})),l.a.createElement("div",{className:"user__title_edit"},l.a.createElement("b",null,"My skills:"),"\xa0",Object(p.a)("Your skills","lookingForAJobDescription",[],d.a)),l.a.createElement("div",{className:"user__title_edit"},l.a.createElement("b",null,"About Me:"),"\xa0",Object(p.a)("aboutMe","aboutMe",[],d.a)),l.a.createElement("div",{className:"user__title"},l.a.createElement("b",null,"Contacts"),"\xa0",Object.keys(t.contacts).map(e=>l.a.createElement("div",{key:e},l.a.createElement("b",{className:"user__title_edit_contacts"},e,": ",Object(p.a)(e,"contacts."+e,[],d.a)))))))),_=({profile:e,status:t,updateStatus:a,isOwner:o,savePhoto:c,saveProfile:u})=>{var p=Object(s.useState)(!1),d=Object(r.a)(p,2),E=d[0],_=d[1];if(!e)return l.a.createElement(n.a,null);return l.a.createElement("div",{className:"profile"},l.a.createElement("div",{className:"profile__img"},l.a.createElement("img",{src:e.photos.large||i.a,className:"profile__avatar",alt:"profile-img"}),o&&l.a.createElement("input",{type:"file",onChange:e=>{e.target.files.length&&c(e.target.files[0])}})),E?l.a.createElement(b,{profile:e,initialValues:e,onSubmit:e=>{u(e).then(()=>{_(!1)})}}):l.a.createElement(m,{profile:e,isOwner:o,goToEditMode:()=>{_(!0)},status:t,updateStatus:a}))},f=a(83),v=e=>l.a.createElement("div",{className:"posts"},l.a.createElement("div",{className:"posts__items"},l.a.createElement("div",{className:"posts__item"},l.a.createElement("img",{src:"https://www.pngkey.com/png/full/353-3534482_avatar-portfolio-02-avatar-sketch-cartoon-avatar.png",className:"posts__img",alt:"avatar"}),l.a.createElement("div",{className:"posts__title"},e.message),l.a.createElement("div",{className:"posts__like"},l.a.createElement("span",{className:"posts__like_span"},l.a.createElement("img",{src:"https://www.flaticon.com/svg/static/icons/svg/1029/1029183.svg",alt:"like"})," ",e.likesCount))))),h=a(77),g=a(62),N=a(52),O=a(28),P=a.n(O),k=e=>{var t=e.input,a=e.meta,s=Object(N.a)(e,["input","meta"]),r=a.touched&&a.error;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("input",Object.assign({},t,s,{className:P()("form__input",{form__input_error:r})}))),r&&l.a.createElement("span",null,a.error))},S=Object(g.a)(30),j=e=>l.a.createElement("form",{onSubmit:e.handleSubmit,className:"form__wrapper"},l.a.createElement("div",null,l.a.createElement(h.a,{component:k,placeholder:"Enter your news...",name:"newPostText",validate:[g.b,S]})),l.a.createElement("div",null,l.a.createElement("button",{className:"form__button"},"Add post"))),w=l.a.memo(e=>{var t=e.profilePage.posts.map(e=>l.a.createElement(v,{key:e.id,message:e.message,likesCount:e.likesCount}));return l.a.createElement("div",{className:"form"},l.a.createElement("hr",{className:"hr"}),l.a.createElement("div",{className:"form__title"},"My Posts"),l.a.createElement(y,{onSubmit:t=>{e.addPost(t.newPostText)}}),l.a.createElement("div",null,t))}),y=Object(E.a)({form:"ProfileAddNewPostForm"})(j),A=w,C=a(15),M=a(8),F=Object(M.d)(Object(C.b)(e=>({profilePage:e.profilePage}),e=>({addPost:t=>{e(Object(f.a)(t))}}))(A)),T=e=>l.a.createElement("div",{className:"content"},l.a.createElement(_,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),l.a.createElement(F,null)),I=a(297);class J extends s.Component{refreshProfile(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}componentDidMount(){this.refreshProfile()}componentDidUpdate(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}render(){return l.a.createElement(T,Object.assign({isOwner:!this.props.match.params.userId},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}t.default=Object(M.d)(Object(C.b)(e=>({profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}),{getUserProfile:f.e,getProfile:f.c,getStatus:f.d,updateStatus:f.h,savePhoto:f.f,saveProfile:f.g}),I.a)(J)}}]);
//# sourceMappingURL=3.ddefce5c.chunk.js.map